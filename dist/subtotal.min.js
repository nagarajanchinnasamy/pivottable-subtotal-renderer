(function(){var t,e=function(t,e){function l(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return l.prototype=e.prototype,t.prototype=new l,t.__super__=e.prototype,t},n={}.hasOwnProperty,l=[].slice;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var o,r,a,i,s;return o=function(t){function n(t,e){n.__super__.constructor.call(this,t,e)}var l;return e(n,t),l=function(t,e,n,l,o){var r,a,i,s,c,u,d;for(c=[],r=!1,s=0,u=l.length;s<u;s++)a=l[s],c.push(null!=(d=t[a])?d:"null"),i=c.join(String.fromCharCode(0)),e[i]||(e[i]=o(c.slice()),r=!0),e[i].push(t);return r&&n.push(c),c},n.prototype.processRecord=function(t){var e,n,o,r,a,i,s,c,u,d,h,p,f;if(f=[],e=[],this.allTotal.push(t),f=l(t,this.rowTotals,this.rowKeys,this.rowAttrs,function(t){return function(e){return t.aggregator(t,e,[])}}(this)),e=l(t,this.colTotals,this.colKeys,this.colAttrs,function(t){return function(e){return t.aggregator(t,[],e)}}(this)),u=f.length-1,d=e.length-1,!(u<0||d<0)){for(p=[],i=c=0,h=u;0<=h?c<=h:c>=h;i=0<=h?++c:--c)o=f.slice(0,i+1),a=o.join(String.fromCharCode(0)),this.tree[a]||(this.tree[a]={}),p.push(function(){var l,i,c;for(c=[],s=l=0,i=d;0<=i?l<=i:l>=i;s=0<=i?++l:--l)n=e.slice(0,s+1),r=n.join(String.fromCharCode(0)),this.tree[a][r]||(this.tree[a][r]=this.aggregator(this,o,n)),c.push(this.tree[a][r].push(t));return c}.call(this));return p}},n}(t.pivotUtilities.PivotData),t.pivotUtilities.SubtotalPivotData=o,r=function(e,l){var o,r,a,i,s,c,u,d,h,p,f,g,y,v,w,C,S,b,x,T,A,m,k,O,R,D,H,E,L,N,_,j,B,K,F,P,U,I,W,q,V,G,Q,z,J,M,X,Y,Z,$,tt,et,nt,lt,ot,rt,at,it,st,ct,ut,dt,ht,pt,ft,gt,yt,vt,wt,Ct,St,bt,xt,Tt,At,mt,kt,Ot,Rt,Dt,Ht,Et,Lt,Nt,_t,jt,Bt,Kt,Ft,Pt,Ut,It,Wt,qt;return G={table:{clickCallback:null},localeStrings:{totals:"Totals"}},l=t.extend(!0,{},G,l),dt=null!=(yt=l.rowSubtotalDisplay)?yt.disableSubtotal:void 0,Dt="undefined"!=typeof(null!=(vt=l.rowSubtotalDisplay)?vt.disableAfter:void 0)?l.rowSubtotalDisplay.disableAfter:9999,Ht=dt?0:Dt+1,pt=null!=(wt=l.rowSubtotalDisplay)?wt.hideOnExpand:void 0,ht=null!=(Ct=l.rowSubtotalDisplay)?Ct.disableExpandCollapse:void 0,ut="undefined"==typeof(null!=(St=l.rowSubtotalDisplay)?St.displayOnTop:void 0)||l.rowSubtotalDisplay.displayOnTop,at=null!=(bt=l.colSubtotalDisplay)?bt.disableSubtotal:void 0,st=null!=(xt=l.colSubtotalDisplay)?xt.hideOnExpand:void 0,it=null!=(Tt=l.colSubtotalDisplay)?Tt.disableExpandCollapse:void 0,N="undefined"!=typeof(null!=(At=l.colSubtotalDisplay)?At.disableAfter:void 0)?l.colSubtotalDisplay.disableAfter:9999,_=at?0:N+1,ct="undefined"==typeof(null!=(mt=l.colSubtotalDisplay)?mt.displayOnRight:void 0)||l.rowSubtotalDisplay.displayOnRight,a=null!=l.arrowCollapsed?l.arrowCollapsed:l.arrowCollapsed="▶",i=null!=l.arrowExpanded?l.arrowExpanded:l.arrowExpanded="◢",q="undefined"!=typeof l.collapseColsAt?l.collapseColsAt:9999,Nt="undefined"!=typeof l.collapseRowsAt?l.collapseRowsAt:9999,L=e.colAttrs,Rt=e.rowAttrs,Et=e.getRowKeys(),j=e.getColKeys(),qt=e.tree,Lt=e.rowTotals,B=e.colTotals,r=e.allTotal,O="rowexpanded",k="rowcollapsed",R="rowhide",D="rowshow",b="colexpanded",S="colcollapsed",x="colhide",T="colshow",E="expanded",H="collapsed",m="expanded",A="collapsed",ut=!1,lt=function(t,e){var n;return n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),null!==t.className.match(n)},kt=function(t,e){var n,l,o,r,a,i;for(r=e.split(" "),i=[],n=0,l=r.length;n<l;n++)o=r[n],a=new RegExp("(?:^|\\s)"+o+"(?!\\S)","g"),i.push(t.className=t.className.replace(a,""));return i},o=function(t,e){var n,l,o,r,a;for(r=e.split(" "),a=[],n=0,l=r.length;n<l;n++)o=r[n],lt(t,o)?a.push(void 0):a.push(t.className+=" "+o);return a},Ot=function(t,e,n){return kt(t,e),o(t,n)},nt=function(t,o,r){var a,i,s,c,u,d,h;if(l.table||l.table.eventHandlers){s={},h=l.table.eventHandlers;for(i in h)if(n.call(h,i)){u=h[i],c={};for(d in L)n.call(L,d)&&(a=L[d],null!=r[d]&&(c[a]=r[d]));for(d in Rt)n.call(Rt,d)&&(a=Rt[d],null!=o[d]&&(c[a]=o[d]));s[i]=function(n){return u(n,t,c,e)}}return s}},V=function(t,e,l,o,r){var a,i,s,c,u;if(i=document.createElement(t),null!=e&&(i.className=e),null!=l&&(i.textContent=l),null!=o)for(a in o)n.call(o,a)&&(u=o[a],i.setAttribute(a,u));if(null!=r)for(s in r)n.call(r,s)&&(c=r[s],i.addEventListener(s,c));return i},_t=function(t,e){var l,o,r;o=[];for(l in e)n.call(e,l)&&(r=e[l],o.push(t.setAttribute(l,r)));return o},gt=function(t,e){var n,l;return n=t[0].length-1,qt={children:[]},l=0,t.reduce(function(t){return function(t,o){var r;return r=0,o.reduce(function(t,a,i,s){var c,u,d,h,p;if(t[a]||(d=o.slice(0,r+1),t[a]={row:l,col:r,descendants:0,children:[],text:a,key:d,flatKey:d.join(String.fromCharCode(0)),firstLeaf:null,leaves:0,parent:0!==r?t:null,th:V("th",e,a),childrenSpan:0},t.children.push(a)),r>0&&t.descendants++,r++,i===n){for(h=qt,c=u=0,p=n-1;0<=p?u<=p:u>=p;c=0<=p?++u:--u)n>0&&(h[o[c]].leaves++,h[o[c]].firstLeaf||(h[o[c]].firstLeaf=t[a]),h=h[o[c]]);return qt}return t[a]},qt),l++,qt}}(this),qt)},jt=function(t){var e;return e={colArrow:i,colClass:b,colClickStatus:E},t>=q&&(e={colArrow:a,colClass:S,colClickStatus:H}),t>=_&&(e={colArrow:""}),e},c=function(t,e,n,l,o,r){var a,i,s,c,u;return i=l[r],c=i,a="pvtAxisLabel",s=jt(r),r<l.length-1&&(a+=" "+s.colClass,it||at||r>N||(c=" "+s.colArrow+" "+i)),u=V("th",a,c),u.setAttribute("data-colAttr",i),o.appendChild(u),e.push({tr:o,th:u,clickStatus:s.colClickStatus,expandedCount:0,nHeaders:0}),t.appendChild(o)},u=function(t,e,n,l){var o,r,a,i,s;for(s=V("tr"),0!==n.length&&s.appendChild(V("th",null,null,{colspan:n.length,rowspan:l.length})),c(t,e,n,l,s,0),i=[],o=r=1,a=l.length;1<=a?r<=a:r>=a;o=1<=a?++r:--r)o<l.length&&(s=V("tr"),i.push(c(t,e,n,l,s,o)));return i},d=function(t,e,n){var l,o,r,a,i,s,c;for(a=n.length-1,s=[],o=r=0,i=a;0<=i?r<=i:r>=i;o=0<=i?++r:--r)o<a&&(c=t[o].th,l=n[o],s.push(c.onclick=function(l){return l=l||window.event,Ut(t,e,n,l.target.getAttribute("data-colAttr"))}));return s},s=function(t,e,n,l,r,a){var i,c,u,d,h,p,f,g;for(f=n.children,h=0,p=f.length;h<p;h++)i=f[h],s(t,e,n[i],l,r,a);return d=jt(n.col),u=t[n.col],n.col<=q&&++u.expandedCount,++u.nHeaders,0!==n.children.length&&(c=n[n.children[0]]),o(n.th,T+" col"+n.row+" colcol"+n.col),n.th.setAttribute("data-colnode",a.counter),0!==n.children.length&&(n.th.colSpan=n.childrenSpan),0===n.children.length&&0!==l.length&&(n.th.rowSpan=2),n.leaves>1&&!(at||n.col>=_)&&(it||(n.th.textContent=d.colArrow+" "+n.text,n.th.onclick=function(n){return n=n||window.event,Pt(t,e,parseInt(n.target.getAttribute("data-colnode")))}),n.children.length>1&&(n.sTh=V("th","pvtColLabelFiller pvtColSubtotal"),n.sTh.rowSpan=r.length-n.col,(st&&n.col<q||n.col>q)&&(n.sTh.style.display="none"),c.tr.appendChild(n.sTh),n.th.colSpan++)),null!=(g=n.parent)&&(g.childrenSpan+=n.th.colSpan),n.clickStatus=d.colClickStatus,u.tr.appendChild(n.th),n.tr=u.tr,e.push(n),a.counter++},Bt=function(t){var e;return e={rowArrow:i,rowClass:O,rowClickStatus:E},t>=Nt&&(e={rowArrow:a,rowClass:k,rowClickStatus:H}),t>=Ht&&(e={rowArrow:""}),e},y=function(t,e,l,o){var r,a,s,c,u,d;d=V("tr"),e.hh=[];for(a in l)n.call(l,a)&&(s=l[a],c=s,r="pvtAxisLabel",a<l.length-1&&(r+=" expanded",ht||a>=Ht||a>=Nt||(c=" "+i+" "+s)),u=V("th",r,c),u.setAttribute("data-rowAttr",s),d.appendChild(u),e.hh.push({th:u,clickStatus:a<Nt?E:H,expandedCount:0,nHeaders:0}));return 0!==o.length&&(u=V("th"),d.appendChild(u)),t.appendChild(d),e.tr=d},v=function(t,e,n){var l,o,r,a,i,s,c;for(r=n.length-1,i=[],l=o=0,a=r;0<=a?o<=a:o>=a;l=0<=a?++o:--o)l<r&&(c=t.hh[l],s=n[l],i.push(c.th.onclick=function(l){return l=l||window.event,Wt(t,e,n,l.target.getAttribute("data-rowAttr"))}));return i},w=function(t,e,n){var o,r;return o=1,0!==n.length&&(o=n.length+(0===e.length?0:1)),r=V("th","pvtTotalLabel rowTotal",l.localeStrings.totals,{rowspan:o}),t.appendChild(r)},g=function(t,e,n,l,r,a,i){var s,c,u,d,h,p,f,y;for(f=l.children,h=0,p=f.length;h<p;h++)s=f[h],g(t,e,n,l[s],r,a,i);return u=e.hh[l.col],l.col<=Nt&&++u.expandedCount,++u.nHeaders,d=Bt(l.col),0!==l.children.length&&(c=l[l.children[0]]),o(l.th,"pvtRowSubtotal row"+l.row+" rowcol"+l.col),l.th.setAttribute("data-rownode",i.counter),l.col===r.length-1&&0!==a.length&&(l.th.colSpan=2),0!==l.children.length&&(l.th.rowSpan=l.childrenSpan),ut&&1===l.children.length||!ut&&0!==l.children.length?(l.tr=c.tr,l.tr.insertBefore(l.th,c.th)):(l.tr=V("tr","pvtRowSubtotal row"+l.row),l.tr.appendChild(l.th)),l.leaves>1&&!(dt||l.col>=Ht)?(ht||(o(l.th,d.rowClass),l.th.textContent=d.rowArrow+" "+l.text,l.th.onclick=function(t){return t=t||window.event,It(e,n,parseInt(t.target.getAttribute("data-rownode")))}),l.children.length>1&&(l.sTh=V("th","pvtRowLabelFiller pvtRowSubtotal row"+l.row+" rowcol"+l.col+" "+d.rowClass),l.sTh.colSpan=r.length-(l.col+1)+(0!==a.length?1:0),(pt&&l.col<Nt||l.col>Nt)&&(l.sTh.style.display="none"),l.th.rowSpan++,o(l.tr,d.rowClass),ut?l.tr.appendChild(l.sTh):(l.sTr=V("tr","pvtRowSubtotal row"+l.row+" "+d.rowClass),l.sTr.appendChild(l.sTh),t.appendChild(l.sTr))),t.insertBefore(l.tr,c.tr)):0===l.children.length&&t.appendChild(l.tr),null!=(y=l.parent)&&(y.childrenSpan+=l.th.rowSpan),l.clickStatus=d.rowClickStatus,n.push(l),i.counter++},C=function(t,e,n){var l,o,r,a,i,s,c,u,d,h,p,f,g,y,v,w,C,S,b,A;for(y=[],d=0,p=e.length;d<p;d++){for(v=e[d],w=Bt(v.col),s=v.flatKey,u=0!==v.descendants,h=0,f=n.length;h<f;h++)o=n[h],i=o.flatKey,l=null!=(g=qt[s][i])?g:{value:function(){return null},format:function(){return""}},A=l.value(),c=0!==o.descendants,r=jt(o.col),C="pvtVal",c&&(C+=" pvtColSubtotal "+r.colClass),u&&(C+=" pvtRowSubtotal "+w.rowClass),C+=u&&(v.col>=Ht||pt&&v.col<Nt)||v.col>Nt?" "+R:" "+D,C+=c&&(at||o.col>N||st&&o.col<q)||o.col>q?" "+x:" "+T,C+=" row"+v.row+(" col"+o.row)+(" rowcol"+v.col)+(" colcol"+o.col),a=nt(A,v.key,o.key),S=V("td",C,l.format(A),{"data-value":A,"data-rownode":v.node,"data-colnode":o.node},a),ut||(v.col>Nt||o.col>q||u&&(v.col>=Ht||pt&&v.col<Nt)||c&&(at||o.col>N||st&&o.col<q))&&(S.style.display="none"),v.tr.appendChild(S);b=Lt[s],A=b.value(),C="pvtTotal rowTotal "+w.rowClass,u&&(C+=" pvtRowSubtotal "),C+=u&&(v.col>=Ht||!ut||pt&&v.col<Nt)?" "+R:" "+D,C+=" row"+v.row+" rowcol"+v.col,S=V("td",C,b.format(A),{"data-value":A,"data-row":"row"+v.row,"data-rowcol":"col"+v.col,"data-rownode":v.node},nt(A,v.key,[])),ut||(v.col>Nt||u&&(v.col>=Ht||pt&&v.col<Nt))&&(S.style.display="none"),y.push(v.tr.appendChild(S))}return y},p=function(t,e){var n,o,r;return r=V("tr"),n=t.length+(0===e.length?0:1),o=V("th","pvtTotalLabel colTotal",l.localeStrings.totals,{colspan:n}),r.appendChild(o),r},h=function(t,e){var n,l,o,r,a,i,s,c,u,d;for(s=[],a=0,i=e.length;a<i;a++)o=e[a],1!==o.children.length&&(r=0!==o.descendants,u=B[o.flatKey],d=u.value(),l=jt(o.col),n="pvtVal pvtTotal colTotal "+l.colClass+" col"+o.row+" colcol"+o.col,r&&(n+=" pvtColSubtotal"),c=V("td",n,u.format(d),{"data-value":d,"data-for":"col"+o.col,"data-colnode":""+o.node},nt(d,[],o.key)),(o.col>q||r&&(at||o.col>N||st&&o.col<q))&&(c.style.display="none"),s.push(t.appendChild(c)));return s},f=function(t,e){var n,l,o;return l=r,o=l.value(),n=V("td","pvtGrandTotal",l.format(o),{"data-value":o},nt(o,[],[])),e.appendChild(n),t.appendChild(e)},ot=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(T).addClass(x).css("display","none")},I=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(b+" "+x).addClass(S+" "+T).not(".pvtRowSubtotal."+R).css("display",""),e.th.textContent=" "+a+" "+e.th.getAttribute("data-colheader"),e.th.colSpan=1},K=function(t,e,n){var l,o,r,i,s,c,u,d,h,p,f,g,y;if(!at&&!it&&e[n]&&(i=e[n],!(i.col>N)&&i.clickStatus!==H)){for(c=0!==i.descendants,o=i.th.colSpan,s=u=1,p=i.descendants;1<=p?u<=p:u>=p;s=1<=p?++u:--u)0!==i.descendants&&(r=e[n-s],ot(r));for(c&&(I(i),--o),h=i.parent;null!==h;)h.th.colSpan-=o,h=h.parent;if(i.clickStatus=H,l=t[i.col],l.expandedCount--,0===l.expandedCount){for(y=[],s=d=f=i.col,g=t.length-2;f<=g?d<=g:d>=g;s=f<=g?++d:--d)s<=N&&(l=t[s],Ot(l.th,m,A),l.th.textContent=" "+a+" "+l.th.getAttribute("data-colAttr"),y.push(l.clickStatus=H));return y}}},Kt=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(x).addClass(T).not(".pvtRowSubtotal."+R).css("display","")},X=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(S+" "+T).addClass(b+" "+x).css("display","none"),e.th.style.display=""},tt=function(e){if(t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(S+" "+x).addClass(b+" "+T).not(".pvtRowSubtotal."+R).css("display",""),e.th.style.display="",++e.th.colSpan,null!=e.sTh)return e.sTh.style.display=""},Q=function(t){var e,n,l,o,r;if(0!==t.descendants&&lt(t.th,b)&&(at||t.col>N||st)?t.th.style.display="":Kt(t),t.clickStatus!==H){for(o=t.children,r=[],n=0,l=o.length;n<l;n++)e=o[n],r.push(Q(e));return r}},J=function(t,e,n){var l,o,r,a,s,c,u,d,h;if(!at&&!it&&e[n]&&(r=e[n],!(r.col>N)&&r.clickStatus!==E)){for(s=0!==r.descendants,o=0,h=r.children,c=0,u=h.length;c<u;c++)l=h[c],Q(l),o+=l.th.colSpan;for(r.th.colSpan=o,s&&(Ot(r.th,S,b),r.th.textContent=" "+i+" "+r.th.getAttribute("data-colHeader"),st?(X(r),--o):tt(r)),d=r.parent;d;)d.th.colSpan+=o,d=d.parent;return r.clickStatus=E,a=t[r.col],++a.expandedCount,a.expandedCount===a.nHeaders?(Ot(a.th,A,m),a.th.textContent=" "+i+" "+a.th.getAttribute("data-colAttr"),a.clickStatus=E):void 0}},rt=function(t){var e,n,l,o,r,a;for(ut&&(t.tr.style.display="none"),n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],Ot(e,D,R);if(!ut){for(o=0,a=n.length;o<a;o++)e=n[o],e.style.display="none";return t.sTh&&(t.sTh.style.display="none"),t.th.style.display="none"}},W=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],kt(e,O+" "+R),o(e,k+" "+D),lt(e,x)||(e.style.display="");return t.sTh.textContent=" "+a+" "+t.sTh.getAttribute("data-rowHeader"),Ot(t.sTh,O,k),Ot(t.tr,O,k),t.tr.style.display=""},P=function(t,e,n){var l,o,r,i,s,c,u,d,h,p,f,g,y,v;if(o=e[n],!(!o||o.clickStatus===H||o.col>=Ht||ht)){for(v=o.th.rowSpan,s=0!==o.descendants,i=u=1,p=o.descendants;1<=p?u<=p:u>=p;i=1<=p?++u:--u)0!==o.descendants&&(l=e[n-i],rt(l));if(ut||(o.th.style.display="none"),s&&W(o),ut)for(h=o.parent;h;)h.th.rowSpan-=v,h=h.parent;if(o.clickStatus=H,r=t.hh[o.col],r.expandedCount--,0===r.expandedCount){for(y=[],c=d=f=o.col,g=t.hh.length-2;f<=g?d<=g:d>=g;c=f<=g?++d:--d)c<Ht&&(r=t.hh[c],Ot(r.th,m,A),r.th.textContent=" "+a+" "+r.th.getAttribute("data-rowAttr"),y.push(r.clickStatus=H));return y}}},Ft=function(t){var e,n,l,o,r,a;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],Ot(e,R,D);if(!ut){for(o=0,a=n.length;o<a;o++)e=n[o],lt(e,x)||(e.style.display="");0!==t.descendants&&t.clickStatus===H||(t.th.style.display=""),t.sTh&&(t.sTh.style.display="")}return t.tr.style.display=""},et=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],kt(e,k+" "+R),o(e,O+" "+D),lt(e,x)||(e.style.display="");return t.sTh.textContent=" "+i+" "+t.sTh.getAttribute("data-rowHeader"),t.sTh.style.display="",Ot(t.sTh,k,O),t.th.style.display="",Ot(t.th,k,O),Ot(t.tr,k,O),t.tr.style.display=""},Y=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],kt(e,k+" "+D),o(e,O+" "+R);return t.th.textContent=" "+i+" "+t.th.getAttribute("data-rowHeader"),t.th.style.display="",Ot(t.tr,k,O),t.tr.style.display="none"},z=function(t){var e,n,l,o,r;if(o=0,0!==t.descendants)for(Ft(t),o++,r=t.children,n=0,l=r.length;n<l;n++)e=r[n],t.clickStatus!==H&&(o+=z(e));else Ft(t),o++;return o},Z=function(t,e,n){var l,o,r,a,s,c,u,d,h;if(o=e[n],!(!o||o.clickStatus===E||ht||o.col>=Ht)){for(a=0!==o.descendants,u=0,h=o.children,s=0,c=h.length;s<c;s++)l=h[s],u+=z(l,0);if(a&&(pt?Y(o):et(o)),ut)for(o.th.rowSpan=u,d=o.parent;d;)d.th.rowSpan+=u,d=d.parent;return o.clickStatus=E,r=t.hh[o.col],++r.expandedCount,r.expandedCount===r.nHeaders?(Ot(r.th,A,m),r.th.textContent=" "+i+" "+r.th.getAttribute("data-rowAttr"),r.clickStatus=E):void 0}},Pt=function(t,e,n){var l;if(null!=e[n])return l=e[n],l.clickStatus===H?J(t,e,n):K(t,e,n),l.th.scrollIntoView},It=function(t,e,n){var l;if(l=e[n])return l.clickStatus===H?Z(t,e,n):P(t,e,n)},F=function(t,e,n,l){var o,r,i,s,c,u,d;if(!(at||(s="string"==typeof l?n.indexOf(l):l,s<0||s===n.length-1))){for(i=s,c=n.length-1;i<c&&i<=N;)r=t[i],Ot(r.th,m,A),r.th.textContent=" "+a+" "+n[i],r.clickStatus=H,++i;for(i=0,u=e.length,d=[];i<u;)o=e[i],o.col===s&&o.clickStatus!==H&&"none"!==o.th.style.display&&K(t,e,parseInt(o.th.getAttribute("data-colnode"))),d.push(++i);return d}},M=function(t,e,n,l){var o,r,s,c,u,d,h,p,f,g;if(!(at||(u="string"==typeof l?n.indexOf(l):l,u<0||u===n.length-1))){for(c=h=0,f=u;0<=f?h<=f:h>=f;c=0<=f?++h:--h)for(c<=N&&(s=t[c],Ot(s.th,A,m),s.th.textContent=" "+i+" "+n[c],s.clickStatus=E),d=0,p=e.length;d<p;)r=e[d],r.col===c&&J(t,e,d),++d;for(++u,g=[];u<n.length-1&&u<=N;)o=t[u],0===o.expandedCount?(Ot(o.th,m,A),o.th.textContent=" "+a+" "+n[u],o.clickStatus=H):o.expandedCount===o.nHeaders&&(Ot(o.th,A,m),o.th.textContent=" "+i+" "+n[u],o.clickStatus=E),g.push(++u);return g}},U=function(t,e,n,l){var o,r,i,s,c,u,d;if(!(dt||(i="string"==typeof l?n.indexOf(l):l,i<0||i===n.length-1))){for(r=i,c=n.length-1;r<c&&r<Ht;)o=t.hh[r],Ot(o.th,m,A),o.th.textContent=" "+a+" "+n[r],o.clickStatus=H,++r;for(s=0,u=e.length,d=[];s<u;)o=e[s],o.col===i&&o.clickStatus!==H&&"none"!==o.tr.style.display&&P(t,e,s),d.push(++s);return d}},$=function(t,e,n,l){var o,r,s,c,u,d,h,p,f,g;if(!(dt||(c="string"==typeof l?n.indexOf(l):l,c<0||c===n.length-1))){for(s=d=0,p=c;0<=p?d<=p:d>=p;s=0<=p?++d:--d)for(s<Ht&&(r=t.hh[s],Ot(r.th,A,m),r.th.textContent=" "+i+" "+n[s],r.clickStatus=E),u=0,h=e.length;u<h;)o=e[u],o.col===s&&Z(t,e,u),++u;for(++c,f=[];c<n.length-1&&c<Ht;)g=t.hh[c],0===g.expandedCount?(Ot(g.th,m,A),g.th.textContent=" "+a+" "+n[c],g.clickStatus=H):g.expandedCount===g.nHeaders&&(Ot(g.th,A,m),g.th.textContent=" "+i+" "+n[c],g.clickStatus=E),f.push(++c);return f}},Ut=function(t,e,n,l){var o,r;if(!at&&!(it||(r=n.indexOf(l),o=t[r],o.col>N)))return o.clickStatus===H?M(t,e,n,l):F(t,e,n,l)},Wt=function(t,e,n,l){var o,r;if(!(ht||(o=n.indexOf(l),r=t.hh[o],r.col>=Ht)))return r.clickStatus===H?$(t,e,n,l):U(t,e,n,l)},(ft=function(t,e,n,l){var o,r,a,i,c,C,S,b,x,T,A,m,k,O,R,D,H,E;if(R=[],i=[],k={},O=[],a=[],r=[],t.length>0&&e.length>0&&(R=gt(e,"pvtRowLabel")),n.length>0&&l.length>0&&(i=gt(l,"pvtColLabel")),m=V("table","pvtTable",null,{style:"display: none;"}),H=V("thead"),m.appendChild(H),n.length>0){for(u(H,a,t,n),x={counter:0},T=i.children,c=0,S=T.length;c<S;c++)o=T[c],s(a,r,i[o],t,n,x);d(a,r,n)}if(t.length>0&&(y(H,k,t,n),0===n.length&&w(k.tr,t,n)),n.length>0&&w(a[0].tr,t,n),D=V("tbody"),m.appendChild(D),x={counter:0},t.length>0)for(A=R.children,C=0,b=A.length;C<b;C++)o=A[C],g(D,k,O,R[o],t,n,x);return v(k,O,t),E=p(t,n),n.length>0&&h(E,r),f(D,E),m.setAttribute("data-numrows",e.length),m.setAttribute("data-numcols",l.length),m.style.display="",m})(Rt,Et,L,j)},t.pivotUtilities.subtotal_renderers={"Table With Subtotal":function(t,e){return r(t,e)},"Table With Subtotal Bar Chart":function(e,n){return t(r(e,n)).barchart()},"Table With Subtotal Heatmap":function(e,n){return t(r(e,n)).heatmap("heatmap",n)},"Table With Subtotal Row Heatmap":function(e,n){return t(r(e,n)).heatmap("rowheatmap",n)},"Table With Subtotal Col Heatmap":function(e,n){return t(r(e,n)).heatmap("colheatmap",n)}},s=t.pivotUtilities.numberFormat({digitsAfterDecimal:1,scaler:100,suffix:"%"}),a=t.pivotUtilities.aggregatorTemplates,i={fractionOf:function(t,e,n){return null==e&&(e="row"),null==n&&(n=s),function(){var o;return o=1<=arguments.length?l.call(arguments,0):[],function(l,r,a){return"undefined"==typeof r&&(r=[]),"undefined"==typeof a&&(a=[]),{selector:{row:[r.slice(0,-1),[]],col:[[],a.slice(0,-1)]}[e],inner:t.apply(null,o)(l,r,a),push:function(t){return this.inner.push(t)},format:n,value:function(){return this.inner.value()/l.getAggregator.apply(l,this.selector).inner.value()},numInputs:t.apply(null,o)().numInputs}}}}},t.pivotUtilities.subtotalAggregatorTemplates=i,t.pivotUtilities.subtotal_aggregators=function(t,e){return{"Sum As Fraction Of Parent Row":e.fractionOf(t.sum(),"row",s),"Sum As Fraction Of Parent Column":e.fractionOf(t.sum(),"col",s),"Count As Fraction Of Parent Row":e.fractionOf(t.count(),"row",s),"Count As Fraction Of Parent Column":e.fractionOf(t.count(),"col",s)}}(a,i)})}).call(this);
//# sourceMappingURL=subtotal.min.js.map
