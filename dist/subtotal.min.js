(function(){var t,e=function(t,e){function l(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return l.prototype=e.prototype,t.prototype=new l,t.__super__=e.prototype,t},n={}.hasOwnProperty,l=[].slice;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var o,r,a,s,i;return o=function(t){function n(t,e){n.__super__.constructor.call(this,t,e)}var l;return e(n,t),l=function(t,e,n,l,o){var r,a,s,i,c,d,u;for(c=[],r=!1,i=0,d=l.length;i<d;i++)a=l[i],c.push(null!=(u=t[a])?u:"null"),s=c.join(String.fromCharCode(0)),e[s]||(e[s]=o(c.slice()),r=!0),e[s].push(t);return r&&n.push(c),c},n.prototype.processRecord=function(t){var e,n,o,r,a,s,i,c,d,u,h,p,f;if(f=[],e=[],this.allTotal.push(t),f=l(t,this.rowTotals,this.rowKeys,this.rowAttrs,function(t){return function(e){return t.aggregator(t,e,[])}}(this)),e=l(t,this.colTotals,this.colKeys,this.colAttrs,function(t){return function(e){return t.aggregator(t,[],e)}}(this)),d=f.length-1,u=e.length-1,!(d<0||u<0)){for(p=[],s=c=0,h=d;0<=h?c<=h:c>=h;s=0<=h?++c:--c)o=f.slice(0,s+1),a=o.join(String.fromCharCode(0)),this.tree[a]||(this.tree[a]={}),p.push(function(){var l,s,c;for(c=[],i=l=0,s=u;0<=s?l<=s:l>=s;i=0<=s?++l:--l)n=e.slice(0,i+1),r=n.join(String.fromCharCode(0)),this.tree[a][r]||(this.tree[a][r]=this.aggregator(this,o,n)),c.push(this.tree[a][r].push(t));return c}.call(this));return p}},n}(t.pivotUtilities.PivotData),t.pivotUtilities.SubtotalPivotData=o,r=function(e,l){var o,r,a,s,i,c,d,u,h,p,f,g,w,v,y,b,C,S,T,m,x,A,k,R,E,O,D,H,L,F,N,_,j,B,K,P,U,W,I,q,V,G,Q,z,J,M,X,Y,Z,$,tt,et,nt,lt,ot,rt,at,st,it,ct,dt,ut,ht,pt,ft,gt,wt,vt,yt,bt,Ct,St,Tt,mt,xt,At,kt,Rt,Et,Ot,Dt,Ht,Lt,Ft,Nt,_t,jt,Bt,Kt;return G={table:{clickCallback:null},localeStrings:{totals:"Totals"}},l=t.extend(!0,{},G,l),dt=null!=(gt=l.rowSubtotalDisplay)?gt.disableSubtotal:void 0,Et="undefined"!=typeof(null!=(wt=l.rowSubtotalDisplay)?wt.disableAfter:void 0)?l.rowSubtotalDisplay.disableAfter:9999,Ot=dt?0:Et+1,ht=null!=(vt=l.rowSubtotalDisplay)?vt.hideOnExpand:void 0,ut=null!=(yt=l.rowSubtotalDisplay)?yt.disableExpandCollapse:void 0,ct="undefined"==typeof(null!=(bt=l.rowSubtotalDisplay)?bt.displayOnTop:void 0)||l.rowSubtotalDisplay.displayOnTop,rt=null!=(Ct=l.colSubtotalDisplay)?Ct.disableSubtotal:void 0,st=null!=(St=l.colSubtotalDisplay)?St.hideOnExpand:void 0,at=null!=(Tt=l.colSubtotalDisplay)?Tt.disableExpandCollapse:void 0,F="undefined"!=typeof(null!=(mt=l.colSubtotalDisplay)?mt.disableAfter:void 0)?l.colSubtotalDisplay.disableAfter:9999,N=rt?0:F+1,it="undefined"==typeof(null!=(xt=l.colSubtotalDisplay)?xt.displayOnRight:void 0)||l.rowSubtotalDisplay.displayOnRight,a=null!=l.arrowCollapsed?l.arrowCollapsed:l.arrowCollapsed="▶",s=null!=l.arrowExpanded?l.arrowExpanded:l.arrowExpanded="◢",q="undefined"!=typeof l.collapseColsAt?l.collapseColsAt:9999,Lt="undefined"!=typeof l.collapseRowsAt?l.collapseRowsAt:9999,L=e.colAttrs,Rt=e.rowAttrs,Dt=e.getRowKeys(),_=e.getColKeys(),Kt=e.tree,Ht=e.rowTotals,j=e.colTotals,r=e.allTotal,R="rowexpanded",k="rowcollapsed",E="rowhide",O="rowshow",S="colexpanded",C="colcollapsed",T="colhide",m="colshow",H="expanded",D="collapsed",A="expanded",x="collapsed",ct=!1,nt=function(t,e){var n;return n=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),null!==t.className.match(n)},At=function(t,e){var n,l,o,r,a,s;for(r=e.split(" "),s=[],n=0,l=r.length;n<l;n++)o=r[n],a=new RegExp("(?:^|\\s)"+o+"(?!\\S)","g"),s.push(t.className=t.className.replace(a,""));return s},o=function(t,e){var n,l,o,r,a;for(r=e.split(" "),a=[],n=0,l=r.length;n<l;n++)o=r[n],nt(t,o)?a.push(void 0):a.push(t.className+=" "+o);return a},kt=function(t,e,n){return At(t,e),o(t,n)},et=function(t,o,r){var a,s,i,c,d,u,h;if(l.table||l.table.eventHandlers){i={},h=l.table.eventHandlers;for(s in h)if(n.call(h,s)){d=h[s],c={};for(u in L)n.call(L,u)&&(a=L[u],null!=r[u]&&(c[a]=r[u]));for(u in Rt)n.call(Rt,u)&&(a=Rt[u],null!=o[u]&&(c[a]=o[u]));i[s]=function(n){return d(n,t,c,e)}}return i}},V=function(t,e,l,o,r){var a,s,i,c,d;if(s=document.createElement(t),null!=e&&(s.className=e),null!=l&&(s.textContent=l),null!=o)for(a in o)n.call(o,a)&&(d=o[a],s.setAttribute(a,d));if(null!=r)for(i in r)n.call(r,i)&&(c=r[i],s.addEventListener(i,c));return s},Ft=function(t,e){var l,o,r;o=[];for(l in e)n.call(e,l)&&(r=e[l],o.push(t.setAttribute(l,r)));return o},ft=function(t,e){var n,l;return n=t[0].length-1,Kt={children:[]},l=0,t.reduce(function(t){return function(t,o){var r;return r=0,o.reduce(function(t,a,s,i){var c,d,u,h,p;if(t[a]||(u=o.slice(0,r+1),t[a]={row:l,col:r,descendants:0,children:[],text:a,key:u,flatKey:u.join(String.fromCharCode(0)),firstLeaf:null,leaves:0,parent:0!==r?t:null,th:V("th",e,a),childrenSpan:0},t.children.push(a)),r>0&&t.descendants++,r++,s===n){for(h=Kt,c=d=0,p=n-1;0<=p?d<=p:d>=p;c=0<=p?++d:--d)n>0&&(h[o[c]].leaves++,h[o[c]].firstLeaf||(h[o[c]].firstLeaf=t[a]),h=h[o[c]]);return Kt}return t[a]},Kt),l++,Kt}}(this),Kt),Kt},Nt=function(t){var e;return e={colArrow:s,colClass:S,colClickStatus:H},t>=q&&(e={colArrow:a,colClass:C,colClickStatus:D}),t>=N&&(e={colArrow:""}),e},c=function(t,e,n,l,o,r){var a,s,i,c,d;return s=l[r],c=s,a="pvtAxisLabel",i=Nt(r),r<l.length-1&&(a+=" "+i.colClass,at||rt||r>F||(c=" "+i.colArrow+" "+s)),d=V("th",a,c),d.setAttribute("data-colAttr",s),o.appendChild(d),e.push({tr:o,th:d,clickStatus:i.colClickStatus,expandedCount:0,nodes:[]}),t.appendChild(o)},d=function(t,e,n,l){var o,r,a,s,i;for(i=V("tr"),0!==n.length&&i.appendChild(V("th",null,null,{colspan:n.length,rowspan:l.length})),c(t,e,n,l,i,0),s=[],o=r=1,a=l.length;1<=a?r<=a:r>=a;o=1<=a?++r:--r)o<l.length&&(i=V("tr"),s.push(c(t,e,n,l,i,o)));return s},u=function(t,e,n){var l,o,r,a,s,i,c;for(a=n.length-1,i=[],o=r=0,s=a;0<=s?r<=s:r>=s;o=0<=s?++r:--r)o<a&&(c=t[o].th,l=n[o],i.push(c.onclick=function(l){return l=l||window.event,toggleColHeaderHeader(t,e,n,l.target.getAttribute("data-colAttr"))}));return i},i=function(t,e,n,l,r,a){var s,c,d,u,h,p,f,g;for(f=n.children,h=0,p=f.length;h<p;h++)s=f[h],i(t,e,n[s],l,r,a);return d=t[n.col],n.col<q&&++d.expandedCount,d.nodes.push(n),n.node=a.counter,u=Nt(n.col),0!==n.children.length&&(c=n[n.children[0]]),o(n.th,m+" col"+n.row+" colcol"+n.col+" "+u.colClass),n.th.setAttribute("data-colnode",n.node),0!==n.children.length&&(n.th.colSpan=n.childrenSpan),0===n.children.length&&0!==l.length&&(n.th.rowSpan=2),n.leaves>1&&!(rt||n.col>=N)&&(at||(n.th.textContent=u.colArrow+" "+n.text,n.th.onclick=function(n){return n=n||window.event,toggleCol(t,e,parseInt(n.target.getAttribute("data-colnode")))},n.sTh=V("th","pvtColLabelFiller pvtColSubtotal"),n.sTh.setAttribute("data-colnode",n.node),n.sTh.rowSpan=r.length-n.col,(st&&n.col<q||n.col>q)&&(n.sTh.style.display="none"),c.tr.appendChild(n.sTh),n.th.colSpan++)),null!=(g=n.parent)&&(g.childrenSpan+=n.th.colSpan),n.clickStatus=u.colClickStatus,d.tr.appendChild(n.th),n.tr=d.tr,e.push(n),a.counter++},_t=function(t){var e;return e={rowArrow:s,rowClass:R,rowClickStatus:H},t>=Lt&&(e={rowArrow:a,rowClass:k,rowClickStatus:D}),t>=Ot&&(e={rowArrow:""}),e},w=function(t,e,l,o){var r,a,i,c,d,u;u=V("tr"),e.hh=[];for(a in l)n.call(l,a)&&(i=l[a],c=i,r="pvtAxisLabel",a<l.length-1&&(r+=" expanded",ut||a>=Ot||a>=Lt||(c=" "+s+" "+i)),d=V("th",r,c),d.setAttribute("data-rowAttr",i),u.appendChild(d),e.hh.push({th:d,clickStatus:a<Lt?H:D,expandedCount:0,headers:[]}));return 0!==o.length&&(d=V("th"),u.appendChild(d)),t.appendChild(u),e.tr=u},v=function(t,e,n){var l,o,r,a,s,i,c;for(r=n.length-1,s=[],l=o=0,a=r;0<=a?o<=a:o>=a;l=0<=a?++o:--o)l<r&&(c=t.hh[l],i=n[l],s.push(c.th.onclick=function(l){return l=l||window.event,toggleRowHeaderHeader(t,e,n,l.target.getAttribute("data-rowAttr"))}));return s},y=function(t,e,n){var o,r;return o=1,0!==n.length&&(o=n.length+(0===e.length?0:1)),r=V("th","pvtTotalLabel rowTotal",l.localeStrings.totals,{rowspan:o}),t.appendChild(r)},g=function(t,e,n,l,r,a,s){var i,c,d,u,h,p,f,w;for(f=l.children,h=0,p=f.length;h<p;h++)i=f[h],g(t,e,n,l[i],r,a,s);return d=e.hh[l.col],l.col<Lt&&++d.expandedCount,d.headers.push(l),l.node=s.counter,u=_t(l.col),0!==l.children.length&&(c=l[l.children[0]]),o(l.th,"row"+l.row+" rowcol"+l.col+" "+O),0!==l.th.children.length&&o(l.th,"pvtRowSubtotal"),l.th.setAttribute("data-rownode",l.node),l.col===r.length-1&&0!==a.length&&(l.th.colSpan=2),0!==l.children.length&&(l.th.rowSpan=l.childrenSpan),ct&&1===l.children.length||!ct&&0!==l.children.length?(l.tr=c.tr,l.tr.insertBefore(l.th,c.th),l.sTh=c.sTh):(l.tr=V("tr","pvtRowSubtotal row"+l.row),l.tr.appendChild(l.th)),l.leaves>1&&!(dt||l.col>=Ot)?(ut||(o(l.th,u.rowClass),l.th.textContent=u.rowArrow+" "+l.text,l.th.onclick=function(t){return t=t||window.event,toggleRow(e,n,parseInt(t.target.getAttribute("data-rownode")))}),l.children.length>1&&(l.sTh=V("th","pvtRowLabelFiller pvtRowSubtotal row"+l.row+" rowcol"+l.col+" "+u.rowClass),l.sTh.setAttribute("data-rownode",l.node),l.sTh.colSpan=r.length-(l.col+1)+(0!==a.length?1:0),(ht&&l.col<Lt||l.col>Lt)&&(l.sTh.style.display="none"),l.th.rowSpan++,o(l.tr,u.rowClass),ct?l.tr.appendChild(l.sTh):(l.sTr=V("tr","pvtRowSubtotal row"+l.row+" "+u.rowClass),l.sTr.appendChild(l.sTh),t.appendChild(l.sTr))),t.insertBefore(l.tr,c.tr)):0===l.children.length&&t.appendChild(l.tr),null!=(w=l.parent)&&(w.childrenSpan+=l.th.rowSpan),l.clickStatus=u.rowClickStatus,n.push(l),s.counter++},b=function(t,e,n){var l,o,r,a,s,i,c,d,u,h,p,f,g,w,v,y,b,C,S,x;for(w=[],u=0,p=e.length;u<p;u++){for(v=e[u],y=_t(v.col),i=v.flatKey,d=0!==v.descendants,h=0,f=n.length;h<f;h++)o=n[h],s=o.flatKey,l=null!=(g=Kt[i][s])?g:{value:function(){return null},format:function(){return""}},x=l.value(),c=0!==o.descendants,r=Nt(o.col),b="pvtVal",c&&(b+=" pvtColSubtotal "+r.colClass),d&&(b+=" pvtRowSubtotal "+y.rowClass),b+=d&&(v.col>=Ot||ht&&v.col<Lt)||v.col>Lt?" "+E:" "+O,b+=c&&(rt||o.col>F||st&&o.col<q)||o.col>q?" "+T:" "+m,b+=" row"+v.row+(" col"+o.row)+(" rowcol"+v.col)+(" colcol"+o.col),a=et(x,v.key,o.key),C=V("td",b,l.format(x),{"data-value":x,"data-rownode":v.node,"data-colnode":o.node},a),ct||(v.col>Lt||o.col>q||d&&(v.col>=Ot||ht&&v.col<Lt)||c&&(rt||o.col>F||st&&o.col<q))&&(C.style.display="none"),v.tr.appendChild(C);S=Ht[i],x=S.value(),b="pvtTotal rowTotal "+y.rowClass,d&&(b+=" pvtRowSubtotal "),b+=d&&(v.col>=Ot||!ct||ht&&v.col<Lt)?" "+E:" "+O,b+=" row"+v.row+" rowcol"+v.col,C=V("td",b,S.format(x),{"data-value":x,"data-row":"row"+v.row,"data-rowcol":"col"+v.col,"data-rownode":v.node},et(x,v.key,[])),ct||(v.col>Lt||d&&(v.col>=Ot||ht&&v.col<Lt))&&(C.style.display="none"),w.push(v.tr.appendChild(C))}return w},p=function(t,e){var n,o,r;return r=V("tr"),n=t.length+(0===e.length?0:1),o=V("th","pvtTotalLabel colTotal",l.localeStrings.totals,{colspan:n}),r.appendChild(o),r},h=function(t,e){var n,l,o,r,a,s,i,c,d;for(s=[],r=0,a=e.length;r<a;r++)o=e[r],1!==o.leaves&&(l=Nt(o.col),n="pvtVal pvtTotal colTotal "+l.colClass+" col"+o.row+" colcol"+o.col,0!==o.children.length&&(n+=" pvtColSubtotal"),c=j[o.flatKey],d=c.value(),i=V("td",n,c.format(d),{"data-value":d,"data-for":"col"+o.col,"data-colnode":""+o.node},et(d,[],o.key)),(o.col>q||0!==o.children.length&&(rt||o.col>F||st&&o.col<q))&&(i.style.display="none"),s.push(t.appendChild(i)));return s},f=function(t,e){var n,l,o;return l=r,o=l.value(),n=V("td","pvtGrandTotal",l.format(o),{"data-value":o},et(o,[],[])),e.appendChild(n),t.appendChild(e)},lt=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(m).addClass(T).css("display","none")},W=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(S+" "+T).addClass(C+" "+m).not(".pvtRowSubtotal."+E).css("display",""),e.th.textContent=" "+a+" "+e.text,e.th.colSpan=1},K=function(t,e){var n,l,o,r;for(r=t.children,l=0,o=r.length;l<o;l++)n=r[l],K(t[n],e);return lt(t)},P=function(t,e,n,l){var o,r,s,i,c,d,u,h,p,f,g,w,v,y;if(!rt&&!at&&e[n]&&(c=e[n],!(c.col>=N||c.clickStatus===D))){for(i=c.th.colSpan-1,g=c.children,u=0,p=g.length;u<p;u++)r=g[u],o=c[r],K(o,c);for(W(c),f=c.parent;null!==f;)f.th.colSpan-=i,f=f.parent;if(c.clickStatus=D,s=t[c.col],s.expandedCount--,0===s.expandedCount){for(y=[],d=h=w=c.col,v=t.length-2;w<=v?h<=v:h>=v;d=w<=v?++h:--h)d<=F&&(s=t[d],kt(s.th,A,x),s.th.textContent=" "+a+" "+s.th.getAttribute("data-colAttr"),y.push(s.clickStatus=D));return y}}},jt=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(T).addClass(m).not(".pvtRowSubtotal."+E).css("display","")},X=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(C+" "+m).addClass(S+" "+T).css("display","none"),e.th.style.display=""},$=function(e){if(t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(C+" "+T).addClass(S+" "+m).not(".pvtRowSubtotal."+E).css("display",""),e.th.style.display="",++e.th.colSpan,null!=e.sTh)return e.sTh.style.display=""},z=function(t){var e,n,l,o,r;if(0!==t.descendants&&nt(t.th,S)&&(rt||t.col>F||st)?t.th.style.display="":jt(t),t.clickStatus!==D){for(o=t.children,r=[],n=0,l=o.length;n<l;n++)e=o[n],r.push(z(t[e]));return r}},M=function(t,e,n,l){var o,r,a,i,c,d,u,h,p;if(!rt&&!at&&e[n]&&(i=e[n],!(i.col>=N||i.clickStatus===H))){for(a=0,p=i.children,d=0,u=p.length;d<u;d++)r=p[d],o=i[r],z(o),a+=o.th.colSpan;for(i.th.colSpan=a,0!==i.children.length&&(kt(i.th,C,S),i.th.textContent=" "+s+" "+i.text,st?(X(i),--colspan):$(i)),h=i.parent;h;)h.th.colSpan+=a,h=h.parent;return i.clickStatus=H,c=t[i.col],++c.expandedCount,c.expandedCount===c.headers.length&&(kt(c.th,x,A),c.th.textContent=" "+s+" "+c.th.getAttribute("data-colAttr"),c.clickStatus=H),console.warn(i.text+": "+e[38].th.colSpan)}},ot=function(t){var e,n,l,o,r,a;for(ct&&(t.tr.style.display="none"),n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],kt(e,O,E);if(!ct){for(o=0,a=n.length;o<a;o++)e=n[o],e.style.display="none";return t.sTh&&(t.sTh.style.display="none"),t.th.style.display="none"}},I=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],At(e,R+" "+E),o(e,k+" "+O),nt(e,T)||(e.style.display="");return t.sTh.textContent=" "+a+" "+t.sTh.getAttribute("data-rowHeader"),kt(t.sTh,R,k),kt(t.tr,R,k),t.tr.style.display=""},U=function(t,e,n,l){var o,r,s,i,c,d,u,h,p,f,g,w,v,y;if(r=e[n],!(!r||r.clickStatus===D||r.col>=Ot||ut)){for(y=r.th.rowSpan,c=0!==r.descendants,i=u=1,f=r.descendants;1<=f?u<=f:u>=f;i=1<=f?++u:--u)0!==r.descendants&&(o=e[n-i],ot(o));if(ct||(r.th.style.display="none"),c&&I(r),ct)for(p=r.parent;p;)p.th.rowSpan-=y,p=p.parent;if(r.clickStatus=D,s=t.hh[r.col],s.expandedCount--,0===s.expandedCount){for(v=[],d=h=g=r.col,w=t.hh.length-2;g<=w?h<=w:h>=w;d=g<=w?++h:--h)d<Ot&&(s=t.hh[d],kt(s.th,A,x),s.th.textContent=" "+a+" "+s.th.getAttribute("data-rowAttr"),v.push(s.clickStatus=D));return v}}},Bt=function(t){var e,n,l,o,r,a;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],kt(e,E,O);if(!ct){for(o=0,a=n.length;o<a;o++)e=n[o],nt(e,T)||(e.style.display="");0!==t.descendants&&t.clickStatus===D||(t.th.style.display=""),t.sTh&&(t.sTh.style.display="")}return t.tr.style.display=""},tt=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],At(e,k+" "+E),o(e,R+" "+O),nt(e,T)||(e.style.display="");return t.sTh.textContent=" "+s+" "+t.sTh.getAttribute("data-rowHeader"),t.sTh.style.display="",kt(t.sTh,k,R),t.th.style.display="",kt(t.th,k,R),kt(t.tr,k,R),t.tr.style.display=""},Y=function(t){var e,n,l,r;for(n=t.tr.getElementsByTagName("td"),l=0,r=n.length;l<r;l++)e=n[l],At(e,k+" "+O),o(e,R+" "+E);return t.th.textContent=" "+s+" "+t.th.getAttribute("data-rowHeader"),t.th.style.display="",kt(t.tr,k,R),t.tr.style.display="none"},J=function(t){var e,n,l,o,r;if(o=0,0!==t.descendants)for(Bt(t),o++,r=t.children,n=0,l=r.length;n<l;n++)e=r[n],t.clickStatus!==D&&(o+=J(e));else Bt(t),o++;return o},Z=function(t,e,n,l){var o,r,a,i,c,d,u,h,p;if(r=e[n],!(!r||r.clickStatus===H||ut||r.col>=Ot)){for(i=0!==r.descendants,u=0,p=r.children,c=0,d=p.length;c<d;c++)o=p[c],u+=J(o,0);if(i&&(ht?Y(r):tt(r)),ct)for(r.th.rowSpan=u,h=r.parent;h;)h.th.rowSpan+=u,h=h.parent;return r.clickStatus=H,a=t.hh[r.col],++a.expandedCount,a.expandedCount===a.headers.length?(kt(a.th,x,A),a.th.textContent=" "+s+" "+a.th.getAttribute("data-rowAttr"),a.clickStatus=H):void 0}},B=function(t,e,n,l,o,r){var s,i,c,d,u,h,p,f,g;if(!(r.disableSubtotal||r.disableExpandCollapse||(d=l,"string"==typeof l&&(d=n.indexOf(l)),h=n.length-2,d<0||h<d))){for(g=[],c=u=p=d,f=h;p<=f?u<=f:u>=f;c=p<=f?++u:--u)c<=r.disableFrom&&(i=t[c],kt(i.th,A,x),i.th.textContent=" "+a+" "+n[c],i.clickStatus=D,g.push(function(){var n,l,a,c;for(a=i.headers,c=[],n=0,l=a.length;n<l;n++)s=a[n],s.clickStatus!==D&&"none"!==s.th.style.display&&s.leaves>1&&c.push(o(t,e,s.node,r));return c}()));return g}},Q=function(t,e,n,l,o,r){var i,c,d,u,h,p,f,g,w,v;if(!(r.disableSubtotal||r.disableExpandCollapse||(u=l,"string"==typeof l&&(u=n.indexOf(l)),u<0||u===n.length-1))){for(d=h=0,g=u;0<=g?h<=g:h>=g;d=0<=g?++h:--h)if(d<r.disableFrom)for(c=t[d],kt(c.th,x,A),c.th.textContent=" "+s+" "+n[d],c.clickStatus=H,w=c.headers,p=0,f=w.length;p<f;p++)i=w[p],i.leaves>1&&o(t,e,i.node);for(++u,v=[];u<n.length-1&&u<r.disableFrom;)c=t[u],0===c.expandedCount?(kt(c.th,A,x),c.th.textContent=" "+a+" "+n[u],c.clickStatus=D):c.expandedCount===c.nodes.length&&(kt(c.th,x,A),c.th.textContent=" "+s+" "+n[u],c.clickStatus=H),v.push(++u);return v}},(pt=function(t,e,n,l){var o,r,a,s,c,b,C,S,T,m,x,A,k,R,E,O,D,H;if(k={},R=[],a=[],r=[],t.length>0&&e.length>0&&(E=ft(e,"pvtRowLabel")),n.length>0&&l.length>0&&(s=ft(l,"pvtColLabel")),A=V("table","pvtTable",null,{style:"display: none;"}),D=V("thead"),A.appendChild(D),n.length>0){for(d(D,a,t,n),T={counter:0},m=s.children,c=0,C=m.length;c<C;c++)o=m[c],i(a,r,s[o],t,n,T);u(a,r,n)}if(t.length>0&&(w(D,k,t,n),0===n.length&&y(k.tr,t,n)),n.length>0&&y(a[0].tr,t,n),O=V("tbody"),A.appendChild(O),T={counter:0},t.length>0)for(x=E.children,b=0,S=x.length;b<S;b++)o=x[b],g(O,k,R,E[o],t,n,T);return v(k,R,t),H=p(t,n),n.length>0&&h(H,r),f(O,H),A.setAttribute("data-numrows",e.length),A.setAttribute("data-numcols",l.length),A.style.display="",A})(Rt,Dt,L,_)},t.pivotUtilities.subtotal_renderers={"Table With Subtotal":function(t,e){return r(t,e)},"Table With Subtotal Bar Chart":function(e,n){return t(r(e,n)).barchart()},"Table With Subtotal Heatmap":function(e,n){return t(r(e,n)).heatmap("heatmap",n)},"Table With Subtotal Row Heatmap":function(e,n){return t(r(e,n)).heatmap("rowheatmap",n)},"Table With Subtotal Col Heatmap":function(e,n){return t(r(e,n)).heatmap("colheatmap",n)}},i=t.pivotUtilities.numberFormat({digitsAfterDecimal:1,scaler:100,suffix:"%"}),a=t.pivotUtilities.aggregatorTemplates,s={fractionOf:function(t,e,n){return null==e&&(e="row"),null==n&&(n=i),function(){var o;return o=1<=arguments.length?l.call(arguments,0):[],function(l,r,a){return"undefined"==typeof r&&(r=[]),"undefined"==typeof a&&(a=[]),{selector:{row:[r.slice(0,-1),[]],col:[[],a.slice(0,-1)]}[e],inner:t.apply(null,o)(l,r,a),push:function(t){return this.inner.push(t)},format:n,value:function(){return this.inner.value()/l.getAggregator.apply(l,this.selector).inner.value()},numInputs:t.apply(null,o)().numInputs}}}}},t.pivotUtilities.subtotalAggregatorTemplates=s,t.pivotUtilities.subtotal_aggregators=function(t,e){return{"Sum As Fraction Of Parent Row":e.fractionOf(t.sum(),"row",i),"Sum As Fraction Of Parent Column":e.fractionOf(t.sum(),"col",i),"Count As Fraction Of Parent Row":e.fractionOf(t.count(),"row",i),"Count As Fraction Of Parent Column":e.fractionOf(t.count(),"col",i)}}(a,s)})}).call(this);
//# sourceMappingURL=subtotal.min.js.map
