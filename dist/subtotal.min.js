(function(){var t,e=function(t,e){function n(){this.constructor=t}for(var o in e)l.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty,n=[].slice;(t=function(t){return"object"==typeof exports&&"object"==typeof module?t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){var o,a,r,s,i;return o=function(t){function l(t,e){l.__super__.constructor.call(this,t,e)}var n;return e(l,t),n=function(t,e,l,n,o){var a,r,s,i,c,d,u;for(c=[],a=!1,i=0,d=n.length;i<d;i++)r=n[i],c.push(null!=(u=t[r])?u:"null"),s=c.join(String.fromCharCode(0)),e[s]||(e[s]=o(c.slice()),a=!0),e[s].push(t);return a&&l.push(c),c},l.prototype.processRecord=function(t){var e,l,o,a,r,s,i,c,d,u,p,h,f;if(f=[],e=[],this.allTotal.push(t),f=n(t,this.rowTotals,this.rowKeys,this.rowAttrs,function(t){return function(e){return t.aggregator(t,e,[])}}(this)),e=n(t,this.colTotals,this.colKeys,this.colAttrs,function(t){return function(e){return t.aggregator(t,[],e)}}(this)),d=f.length-1,u=e.length-1,!(d<0||u<0)){for(h=[],s=c=0,p=d;0<=p?c<=p:c>=p;s=0<=p?++c:--c)o=f.slice(0,s+1),r=o.join(String.fromCharCode(0)),this.tree[r]||(this.tree[r]={}),h.push(function(){var n,s,c;for(c=[],i=n=0,s=u;0<=s?n<=s:n>=s;i=0<=s?++n:--n)l=e.slice(0,i+1),a=l.join(String.fromCharCode(0)),this.tree[r][a]||(this.tree[r][a]=this.aggregator(this,o,l)),c.push(this.tree[r][a].push(t));return c}.call(this));return h}},l}(t.pivotUtilities.PivotData),t.pivotUtilities.SubtotalPivotData=o,a=function(e,n){var o,a,r,s,i,c,d,u,p,h,f,y,b,w,g,C,v,S,m,x,T,D,A,k,O,E,F,R,H,L,N,P,_,j,B,K,U,I,W,q,V,G,Q,z,J,M,X,Y,Z,$,tt,et,lt,nt,ot,at,rt,st,it,ct,dt,ut,pt,ht;return I={table:{clickCallback:null},localeStrings:{totals:"Totals"}},n=t.extend(!0,{},I,n),n.rowSubtotalDisplay||(n.rowSubtotalDisplay={}),"undefined"==typeof n.rowSubtotalDisplay.disableAfter&&(n.rowSubtotalDisplay.disableAfter=9999),n.rowSubtotalDisplay.disableFrom=n.rowSubtotalDisplay.disableSubtotal?0:"undefined"==typeof n.rowSubtotalDisplay.disableFrom?n.rowSubtotalDisplay.disableAfter+1:void 0,"undefined"==typeof n.colSubtotalDisplay.disableAfter&&(n.colSubtotalDisplay.disableAfter=9999),n.colSubtotalDisplay.disableFrom=n.colSubtotalDisplay.disableSubtotal?0:"undefined"==typeof n.colSubtotalDisplay.disableFrom?n.colSubtotalDisplay.disableAfter+1:void 0,r=null!=n.arrowCollapsed?n.arrowCollapsed:n.arrowCollapsed="▶",s=null!=n.arrowExpanded?n.arrowExpanded:n.arrowExpanded="◢","undefined"==typeof n.collapseColsAt&&(K=9999),"undefined"==typeof n.collapseRowsAt&&(it=9999),F=e.colAttrs,at=e.rowAttrs,rt=e.getRowKeys(),R=e.getColKeys(),ht=e.tree,st=e.rowTotals,H=e.colTotals,a=e.allTotal,D="rowexpanded",T="rowcollapsed",A="rowhide",k="rowshow",C="colexpanded",g="colcollapsed",v="colhide",S="colshow",E="expanded",O="collapsed",x="expanded",m="collapsed",Z=function(t,e){var l;return l=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g"),null!==t.className.match(l)},nt=function(t,e){var l,n,o,a,r,s;for(a=e.split(" "),s=[],l=0,n=a.length;l<n;l++)o=a[l],r=new RegExp("(?:^|\\s)"+o+"(?!\\S)","g"),s.push(t.className=t.className.replace(r,""));return s},o=function(t,e){var l,n,o,a,r;for(a=e.split(" "),r=[],l=0,n=a.length;l<n;l++)o=a[l],Z(t,o)?r.push(void 0):r.push(t.className+=" "+o);return r},ot=function(t,e,l){return nt(t,e),o(t,l)},Y=function(t,o,a){var r,s,i,c,d,u,p;if(n.table||n.table.eventHandlers){i={},p=n.table.eventHandlers;for(s in p)if(l.call(p,s)){d=p[s],c={};for(u in F)l.call(F,u)&&(r=F[u],null!=a[u]&&(c[r]=a[u]));for(u in at)l.call(at,u)&&(r=at[u],null!=o[u]&&(c[r]=o[u]));i[s]=function(l){return d(l,t,c,e)}}return i}},U=function(t,e,n,o,a){var r,s,i,c,d;if(s=document.createElement(t),null!=e&&(s.className=e),null!=n&&(s.textContent=n),null!=o)for(r in o)l.call(o,r)&&(d=o[r],s.setAttribute(r,d));if(null!=a)for(i in a)l.call(a,i)&&(c=a[i],s.addEventListener(i,c));return s},ct=function(t,e){var n,o,a;o=[];for(n in e)l.call(e,n)&&(a=e[n],o.push(t.setAttribute(n,a)));return o},lt=function(t,e,l){var n,o;return n=t[0].length-1,ht={children:[]},o=0,t.reduce(function(t){return function(t,l){var a;return a=0,l.reduce(function(t,r,s,i){var c,d,u,p,h;if(t[r]||(u=l.slice(0,a+1),t[r]={row:o,col:a,descendants:0,children:[],text:r,key:u,flatKey:u.join(String.fromCharCode(0)),firstLeaf:null,leaves:0,parent:0!==a?t:null,th:U("th",e,r),childrenSpan:0},t.children.push(r)),a>0&&t.descendants++,a++,s===n){for(p=ht,c=d=0,h=n-1;0<=h?d<=h:d>=h;c=0<=h?++d:--d)n>0&&(p[l[c]].leaves++,p[l[c]].firstLeaf||(p[l[c]].firstLeaf=t[r]),p=p[l[c]]);return ht}return t[r]},ht),o++,ht}}(this),ht),console.warn(ht),ht},i=function(t,e,l,n,o){var a,i,c;return a={expandedCount:0,headers:[],clickStatus:E,onClick:L},i=s+" ",c=x,l>o.collapseAt&&(i=r+" ",c=m,a.clickStatus=O,a.onClick=W),(l===n.length-1||l>=o.disableFrom||o.disableExpandCollapse)&&(i=""),a.th=U("th","pvtAxisLabel "+c,""+i+n[l]),a.th.onclick=function(r){return r=r||window.event,a.onClick(t,e,n,l,o)},t.push(a),a},c=function(t,e,l,n,o){var a,r,s,c,d,u;for(c={collapse:P,expand:G,ah:[]},s=d=0,u=n.length;d<u;s=++d)r=n[s],a=i(c.ah,e,s,n,o),a.tr=U("tr"),0===s&&0!==l.length&&a.tr.appendChild(U("th",null,null,{colspan:l.length,rowspan:n.length})),a.tr.appendChild(a.th),t.appendChild(a.tr);return c},f=function(t,e,l,n,o){var a,r,s,c,d,u;for(d={collapse:P,expand:G,ah:[],tr:U("tr")},r=s=0,c=l.length-1;0<=c?s<=c:s>=c;r=0<=c?++s:--s)a=i(d.ah,e,r,l,o),d.tr.appendChild(a.th);return 0!==n.length&&(u=U("th"),d.tr.appendChild(a.th)),t.appendChild(d.tr),d},dt=function(t,e,l,n,o,a){var i;return i={arrow:s,clickStatus:E,onClick:l,class:x+" "},t>a.collapseAt&&(i={arrow:r,clickStatus:O,onClick:n,class:m+" "}),(t===o.length-1||t>=a.disableFrom||a.disableExpandCollapse)&&(i.arrow=""),i.textContent=i.arrow+" "+e,i},d=function(t,e,l,n,a,r,s){var i,c,u,p,h,f,y;for(f=l.children,p=0,h=f.length;p<h;p++)c=f[p],d(t,e,l[c],n,a,r,s);return i=t.ah[l.col],l.col<s.colSubtotalDisplay.collapseAt&&++i.expandedCount,i.headers.push(l),l.node=r.counter,u=dt(l.col,l.text,P,G,a,s.colSubtotalDisplay),l.onClick=u.onClick,o(l.th,S+" col"+l.row+" colcol"+l.col+" "+u.class),l.th.setAttribute("data-colnode",l.node),0!==l.children.length&&(l.th.colSpan=l.childrenSpan),0===l.children.length&&0!==n.length&&(l.th.rowSpan=2),l.th.textContent=u.textContent,l.leaves>1&&l.col<s.colSubtotalDisplay.disableFrom&&!s.colSubtotalDisplay.disableExpandCollapse&&(l.th.onclick=function(n){return n=n||window.event,l.onClick(t,e,l.node,s.subtotalDisplay)},l.sTh=U("th","pvtColLabelFiller pvtColSubtotal"),l.sTh.setAttribute("data-colnode",l.node),l.sTh.rowSpan=a.length-l.col,(s.colSubtotalDisplay.hideOnExpand&&l.col<s.colSubtotalDisplay.collapseAt||l.col>s.colSubtotalDisplay.collapseAt)&&(l.sTh.style.display="none"),0!==l.children.length&&l[l.children[0]].tr.appendChild(l.sTh),l.th.colSpan++),null!=(y=l.parent)&&(y.childrenSpan+=l.th.colSpan),l.clickStatus=u.clickStatus,i.tr.appendChild(l.th),l.tr=i.tr,e.push(l),r.counter++},b=function(t,e,l){var o;return o=U("th","pvtTotalLabel rowTotal",n.localeStrings.totals,{rowspan:0===l.length?1:l.length+(0===e.length?0:1)}),t.appendChild(o)},y=function(t,e,l,a,r,s,i){var c,d,u,p,h,f,b,w;for(b=a.children,h=0,f=b.length;h<f;h++)d=b[h],y(t,e,l,a[d],r,s,i);return c=e.ah[a.col],a.col<it&&++c.expandedCount,c.headers.push(a),a.node=i.counter,p=dt(a.col,a.text,_,J,r,n.rowSubtotalDisplay),0!==a.children.length&&(u=a[a.children[0]]),o(a.th,"row"+a.row+" rowcol"+a.col+" "+k),0!==a.th.children.length&&o(a.th,"pvtRowSubtotal"),a.th.setAttribute("data-rownode",a.node),a.col===r.length-1&&0!==s.length&&(a.th.colSpan=2),0!==a.children.length&&(a.th.rowSpan=a.childrenSpan),n.rowSubtotalDisplay.displayOnTop&&1===a.children.length||!n.rowSubtotalDisplay.displayOnTop&&0!==a.children.length?(a.tr=u.tr,a.tr.insertBefore(a.th,u.th),a.sTh=u.sTh):(a.tr=U("tr","pvtRowSubtotal row"+a.row),a.tr.appendChild(a.th)),a.leaves>1&&a.col<n.rowSubtotalDisplay.disableFrom?(n.rowSubtotalDisplay.disableExpandCollapse||(o(a.th,p.class),a.th.textContent=p.arrow+" "+a.text,a.th.onclick=function(t){return t=t||window.event,a.onClick(e,l,a.node)}),a.children.length>1&&(a.sTh=U("th","pvtRowLabelFiller pvtRowSubtotal row"+a.row+" rowcol"+a.col+" "+p.class),a.sTh.setAttribute("data-rownode",a.node),a.sTh.colSpan=r.length-(a.col+1)+(0!==s.length?1:0),(n.rowSubtotalDisplay.hideOnExpand&&a.col<n.rowSubtotalDisplay.collapseAt||a.col>n.rowSubtotalDisplay.collapseAt)&&(a.sTh.style.display="none"),a.th.rowSpan++,o(a.tr,p.class),n.rowSubtotalDisplay.displayOnTop?a.tr.appendChild(a.sTh):(a.sTr=U("tr","pvtRowSubtotal row"+a.row+" "+p.class),a.sTr.appendChild(a.sTh),t.appendChild(a.sTr))),t.insertBefore(a.tr,u.tr)):0===a.children.length&&t.appendChild(a.tr),null!=(w=a.parent)&&(w.childrenSpan+=a.th.rowSpan),a.clickStatus=p.clickStatus,l.push(a),i.counter++},w=function(t,e,l){var n,o,a,r,s,i,c,d,u,p,h,f,y,b,w,g,C,m,x,T;for(b=[],u=0,h=e.length;u<h;u++){for(w=e[u],g=setRowInitParams(w.col),i=w.flatKey,d=0!==w.descendants,p=0,f=l.length;p<f;p++)o=l[p],s=o.flatKey,n=null!=(y=ht[i][s])?y:{value:function(){return null},format:function(){return""}},T=n.value(),c=0!==o.descendants,a=setColInitParams(o.col),C="pvtVal",c&&(C+=" pvtColSubtotal "+a.colClass),d&&(C+=" pvtRowSubtotal "+g.rowClass),C+=d&&(w.col>=rowDisableFrom||isRowHideOnExpand&&w.col<it)||w.col>it?" "+A:" "+k,C+=c&&(isColDisable||o.col>colDisableAfter||isColHideOnExpand&&o.col<K)||o.col>K?" "+v:" "+S,C+=" row"+w.row+(" col"+o.row)+(" rowcol"+w.col)+(" colcol"+o.col),r=Y(T,w.key,o.key),m=U("td",C,n.format(T),{"data-value":T,"data-rownode":w.node,"data-colnode":o.node},r),isDisplayOnTop||(w.col>it||o.col>K||d&&(w.col>=rowDisableFrom||isRowHideOnExpand&&w.col<it)||c&&(isColDisable||o.col>colDisableAfter||isColHideOnExpand&&o.col<K))&&(m.style.display="none"),w.tr.appendChild(m);x=st[i],T=x.value(),C="pvtTotal rowTotal "+g.rowClass,d&&(C+=" pvtRowSubtotal "),C+=d&&(w.col>=rowDisableFrom||!isDisplayOnTop||isRowHideOnExpand&&w.col<it)?" "+A:" "+k,C+=" row"+w.row+" rowcol"+w.col,m=U("td",C,x.format(T),{"data-value":T,"data-row":"row"+w.row,"data-rowcol":"col"+w.col,"data-rownode":w.node},Y(T,w.key,[])),isDisplayOnTop||(w.col>it||d&&(w.col>=rowDisableFrom||isRowHideOnExpand&&w.col<it))&&(m.style.display="none"),b.push(w.tr.appendChild(m))}return b},p=function(t,e){var l,o,a;return a=U("tr"),l=t.length+(0===e.length?0:1),o=U("th","pvtTotalLabel colTotal",n.localeStrings.totals,{colspan:l}),a.appendChild(o),a},u=function(t,e){var l,n,o,a,r,s,i,c,d;for(s=[],a=0,r=e.length;a<r;a++)o=e[a],1!==o.leaves&&(n=setColInitParams(o.col),l="pvtVal pvtTotal colTotal "+n.colClass+" col"+o.row+" colcol"+o.col,0!==o.children.length&&(l+=" pvtColSubtotal"),c=H[o.flatKey],d=c.value(),i=U("td",l,c.format(d),{"data-value":d,"data-for":"col"+o.col,"data-colnode":""+o.node},Y(d,[],o.key)),(o.col>K||0!==o.children.length&&(isColDisable||o.col>colDisableAfter||isColHideOnExpand&&o.col<K))&&(i.style.display="none"),s.push(t.appendChild(i)));return s},h=function(t,e){var l,n,o;return n=a,o=n.value(),l=U("td","pvtGrandTotal",n.format(o),{"data-value":o},Y(o,[],[])),e.appendChild(l),t.appendChild(e)},$=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(S).addClass(v).css("display","none")},j=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(C+" "+v).addClass(g+" "+S).not(".pvtRowSubtotal."+A).css("display",""),e.th.textContent=" "+r+" "+e.text,e.th.colSpan=1},N=function(t,e){var l,n,o,a;for(a=t.children,n=0,o=a.length;n<o;n++)l=a[n],N(t[l],e);return $(t)},P=function(t,e,l,n){var o,a,s,i,c,d,u,p,h,f,y,b,w,g;for(c=e[l],i=c.th.colSpan-1,y=c.children,u=0,h=y.length;u<h;u++)s=y[u],a=c[s],N(a,c);for(j(c),f=c.parent;null!==f;)f.th.colSpan-=i,f=f.parent;if(c.clickStatus=O,o=t[c.col],o.expandedCount--,0===o.expandedCount){for(g=[],d=p=b=c.col,w=o.length-2;b<=w?p<=w:p>=w;d=b<=w?++p:--p)d<n.disableFrom&&(o=t[d],ot(o.th,x,m),o.th.textContent=" "+r+" "+o.text,g.push(o.clickStatus=O));return g}},ut=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(v).addClass(S).not(".pvtRowSubtotal."+A).css("display","")},Q=function(e){return t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(g+" "+S).addClass(C+" "+v).css("display","none"),e.th.style.display=""},M=function(e){if(t(e.th).closest("table.pvtTable").find('tbody tr td[data-colnode="'+e.node+'"], th[data-colnode="'+e.node+'"]').removeClass(g+" "+v).addClass(C+" "+S).not(".pvtRowSubtotal."+A).css("display",""),e.th.style.display="",++e.th.colSpan,null!=e.sTh)return e.sTh.style.display=""},q=function(t){var e,l,n,o,a;if(0!==t.descendants&&Z(t.th,C)&&(isColDisable||t.col>colDisableAfter||isColHideOnExpand)?t.th.style.display="":ut(t),t.clickStatus!==O){for(o=t.children,a=[],l=0,n=o.length;l<n;l++)e=o[l],a.push(q(t[e]));return a}},G=function(t,e,l,n){var o,a,r,i,c,d,u,p,h;if(!isColDisable&&!isColDisableExpandCollapse&&e[l]&&(c=e[l],!(c.col>=colDisableFrom||c.clickStatus===E))){for(i=0,h=c.children,d=0,u=h.length;d<u;d++)r=h[d],a=c[r],q(a),i+=a.th.colSpan;for(c.th.colSpan=i,0!==c.children.length&&(ot(c.th,g,C),c.th.textContent=" "+s+" "+c.text,isColHideOnExpand?(Q(c),--colspan):M(c)),p=c.parent;p;)p.th.colSpan+=i,p=p.parent;return c.clickStatus=E,o=t[c.col],++o.expandedCount,o.expandedCount===o.headers.length?(ot(o.th,m,x),o.th.textContent=" "+s+" "+o.th.getAttribute("data-colAttr"),o.clickStatus=E):void 0}},tt=function(t){var e,l,n,o,a,r;for(isDisplayOnTop&&(t.tr.style.display="none"),l=t.tr.getElementsByTagName("td"),n=0,a=l.length;n<a;n++)e=l[n],ot(e,k,A);if(!isDisplayOnTop){for(o=0,r=l.length;o<r;o++)e=l[o],e.style.display="none";return t.sTh&&(t.sTh.style.display="none"),t.th.style.display="none"}},B=function(t){var e,l,n,a;for(l=t.tr.getElementsByTagName("td"),n=0,a=l.length;n<a;n++)e=l[n],nt(e,D+" "+A),o(e,T+" "+k),Z(e,v)||(e.style.display="");return t.sTh.textContent=" "+r+" "+t.sTh.getAttribute("data-rowHeader"),ot(t.sTh,D,T),ot(t.tr,D,T),t.tr.style.display=""},_=function(t,e,l,n){var o,a,s,i,c,d,u,p,h,f,y,b,w,g;if(s=e[l],!(!s||s.clickStatus===O||s.col>=rowDisableFrom||isRowDisableExpandCollapse)){for(g=s.th.rowSpan,c=0!==s.descendants,i=u=1,f=s.descendants;1<=f?u<=f:u>=f;i=1<=f?++u:--u)0!==s.descendants&&(a=e[l-i],tt(a));if(isDisplayOnTop||(s.th.style.display="none"),c&&B(s),isDisplayOnTop)for(h=s.parent;h;)h.th.rowSpan-=g,h=h.parent;if(s.clickStatus=O,o=t.ah[s.col],o.expandedCount--,0===o.expandedCount){for(w=[],d=p=y=s.col,b=t.ah.length-2;y<=b?p<=b:p>=b;d=y<=b?++p:--p)d<rowDisableFrom&&(o=t.ah[d],ot(o.th,x,m),o.th.textContent=" "+r+" "+o.th.getAttribute("data-rowAttr"),w.push(o.clickStatus=O));return w}}},pt=function(t){var e,l,n,o,a,r;for(l=t.tr.getElementsByTagName("td"),n=0,a=l.length;n<a;n++)e=l[n],ot(e,A,k);if(!isDisplayOnTop){for(o=0,r=l.length;o<r;o++)e=l[o],Z(e,v)||(e.style.display="");0!==t.descendants&&t.clickStatus===O||(t.th.style.display=""),t.sTh&&(t.sTh.style.display="")}return t.tr.style.display=""},X=function(t){var e,l,n,a;for(l=t.tr.getElementsByTagName("td"),n=0,a=l.length;n<a;n++)e=l[n],nt(e,T+" "+A),o(e,D+" "+k),Z(e,v)||(e.style.display="");return t.sTh.textContent=" "+s+" "+t.sTh.getAttribute("data-rowHeader"),t.sTh.style.display="",ot(t.sTh,T,D),t.th.style.display="",ot(t.th,T,D),ot(t.tr,T,D),t.tr.style.display=""},z=function(t){var e,l,n,a;for(l=t.tr.getElementsByTagName("td"),n=0,a=l.length;n<a;n++)e=l[n],nt(e,T+" "+k),o(e,D+" "+A);return t.th.textContent=" "+s+" "+t.th.getAttribute("data-rowHeader"),t.th.style.display="",ot(t.tr,T,D),t.tr.style.display="none"},V=function(t){var e,l,n,o,a;if(o=0,0!==t.descendants)for(pt(t),o++,a=t.children,l=0,n=a.length;l<n;l++)e=a[l],t.clickStatus!==O&&(o+=V(e));else pt(t),o++;return o},J=function(t,e,l,n){var o,a,r,i,c,d,u,p,h;if(r=e[l],!(!r||r.clickStatus===E||isRowDisableExpandCollapse||r.col>=rowDisableFrom)){for(i=0!==r.descendants,u=0,h=r.children,c=0,d=h.length;c<d;c++)a=h[c],u+=V(a,0);if(i&&(isRowHideOnExpand?z(r):X(r)),isDisplayOnTop)for(r.th.rowSpan=u,p=r.parent;p;)p.th.rowSpan+=u,p=p.parent;return r.clickStatus=E,o=t.ah[r.col],++o.expandedCount,o.expandedCount===o.headers.length?(ot(o.th,m,x),o.th.textContent=" "+s+" "+o.th.getAttribute("data-rowAttr"),o.clickStatus=E):void 0}},L=function(t,e,l,n,o){var a,s,i,c,d,u,p,h,f;if(!(o.disableExpandCollapse||(c=n,"string"==typeof n&&(c=l.indexOf(n)),u=l.length-2,c<0||u<c||c>=o.disableFrom))){for(f=[],i=d=p=c,h=u;p<=h?d<=h:d>=h;i=p<=h?++d:--d)a=t[i],ot(a.th,x,m),a.th.textContent=" "+r+" "+l[i],a.clickStatus=O,f.push(function(){var l,n,r,i;for(r=a.headers,i=[],l=0,n=r.length;l<n;l++)s=r[l],s.clickStatus!==O&&"none"!==s.th.style.display&&s.leaves>1&&i.push(a.collapse(t,e,s.node,o));return i}());return f}},W=function(t,e,l,n,o,a){var i,c,d,u,p,h,f,y,b,w;if(!(a.disableExpandCollapse||(u=n,"string"==typeof n&&(u=l.indexOf(n)),u<0||u===l.length-1||d>=a.disableFrom))){for(d=p=0,y=u;0<=y?p<=y:p>=y;d=0<=y?++p:--p)if(d<a.disableFrom)for(i=t[d],ot(i.th,m,x),i.th.textContent=" "+s+" "+l[d],i.clickStatus=E,b=i.headers,h=0,f=b.length;h<f;h++)c=b[h],c.leaves>1&&i.expand(t,e,c.node);for(++u,w=[];u<l.length-1&&u<a.disableFrom;)i=t[u],0===i.expandedCount?(ot(i.th,x,m),i.th.textContent=" "+r+" "+l[u],i.clickStatus=O):i.expandedCount===i.nodes.length&&(ot(i.th,m,x),i.th.textContent=" "+s+" "+l[u],i.clickStatus=E),w.push(++u);return w}},(et=function(t,e,l,o){var a,r,s,i,u,w,g,C,v,S,m,x,T,D,A,k,O,E;if(D=[],s=[],0!==l.length&&0!==o.length&&(i=lt(o,"pvtColLabel")),0!==t.length&&0!==e.length&&(A=lt(e,"pvtRowLabel")),x=U("table","pvtTable",null,{style:"display: none;"}),O=U("thead"),x.appendChild(O),0!==l.length)for(r=c(O,s,t,l,n),v={counter:0},S=i.children,u=0,g=S.length;u<g;u++)a=S[u],d(r,s,i[a],t,l,v,n);if(0!==t.length&&(T=f(O,D,t,l,n),0===l.length&&b(T.tr,t,l)),0!==l.length&&b(r.ah[0].tr,t,l),k=U("tbody"),x.appendChild(k),v={counter:0},t.length>0)for(m=A.children,w=0,C=m.length;w<C;w++)a=m[w],y(k,T,D,A[a],t,l,v);return E=p(t,l),h(k,E),x.setAttribute("data-numrows",e.length),x.setAttribute("data-numcols",o.length),x.style.display="",x})(at,rt,F,R)},t.pivotUtilities.subtotal_renderers={"Table With Subtotal":function(t,e){return a(t,e)},"Table With Subtotal Bar Chart":function(e,l){return t(a(e,l)).barchart()},"Table With Subtotal Heatmap":function(e,l){return t(a(e,l)).heatmap("heatmap",l)},"Table With Subtotal Row Heatmap":function(e,l){return t(a(e,l)).heatmap("rowheatmap",l)},"Table With Subtotal Col Heatmap":function(e,l){return t(a(e,l)).heatmap("colheatmap",l)}},i=t.pivotUtilities.numberFormat({digitsAfterDecimal:1,scaler:100,suffix:"%"}),r=t.pivotUtilities.aggregatorTemplates,s={fractionOf:function(t,e,l){return null==e&&(e="row"),null==l&&(l=i),function(){var o;return o=1<=arguments.length?n.call(arguments,0):[],function(n,a,r){return"undefined"==typeof a&&(a=[]),"undefined"==typeof r&&(r=[]),{selector:{row:[a.slice(0,-1),[]],col:[[],r.slice(0,-1)]}[e],inner:t.apply(null,o)(n,a,r),push:function(t){return this.inner.push(t)},format:l,value:function(){return this.inner.value()/n.getAggregator.apply(n,this.selector).inner.value()},numInputs:t.apply(null,o)().numInputs}}}}},t.pivotUtilities.subtotalAggregatorTemplates=s,t.pivotUtilities.subtotal_aggregators=function(t,e){return{"Sum As Fraction Of Parent Row":e.fractionOf(t.sum(),"row",i),"Sum As Fraction Of Parent Column":e.fractionOf(t.sum(),"col",i),"Count As Fraction Of Parent Row":e.fractionOf(t.count(),"row",i),"Count As Fraction Of Parent Column":e.fractionOf(t.count(),"col",i)}}(r,s)})}).call(this);
//# sourceMappingURL=subtotal.min.js.map
